unit ANAALARM_U;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants,
  System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.StdCtrls, Data.DB,
  Vcl.Grids, Vcl.DBGrids, rDBGrid, Vcl.Buttons, Vcl.Mask, FireDAC.Stan.Intf,
  FireDAC.Stan.Option, FireDAC.Stan.Param, FireDAC.Stan.Error, FireDAC.DatS,
  FireDAC.Phys.Intf, FireDAC.DApt.Intf, FireDAC.Stan.Async, FireDAC.DApt,
  FireDAC.Comp.DataSet, FireDAC.Comp.Client, rImprovedComps;

type
  TANAALARM_F = class(TForm)
    p_title: TPanel;
    gb_registrations: TGroupBox;
    gb_params: TGroupBox;
    rDBGrid1: TrDBGrid;
    l_ias_max: TLabeledEdit;
    l_vsi_max: TLabeledEdit;
    l_pitch_max: TLabeledEdit;
    l_roll_max: TLabeledEdit;
    l_height_min: TLabeledEdit;
    l_alt_max: TLabeledEdit;
    l_gtot_min: TLabeledEdit;
    l_gtot_max: TLabeledEdit;
    bb_update: TBitBtn;
    ds_aero_alarm: TDataSource;
    q_get_alarm_only_hcbu: TFDQuery;
    q_update_alarm: TFDQuery;
    bb_insert: TBitBtn;
    q_insert_alarm: TFDQuery;
    cbe_registrations: TrComboBoxEx;
    l_reg: TLabel;
    procedure FormShow(Sender: TObject);
    procedure rDBGrid1DblClick(Sender: TObject);
    procedure bb_updateClick(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  ANAALARM_F: TANAALARM_F;

implementation

{$R *.dfm}

uses

  Main;

procedure AZZERA_TUTTO;
begin
  with ANAALARM_F do
  begin
    bb_update.Enabled := false;
    l_ias_max.Text := '';
    l_vsi_max.Text := '';
    l_pitch_max.Text := '';
    l_roll_max.Text := '';
    l_gtot_min.Text := '';
    l_gtot_max.Text := '';
    l_alt_max.Text := '';
    l_height_min.Text := '';
  end;

end;

procedure TANAALARM_F.bb_updateClick(Sender: TObject);
begin
  // aggiorna parametri UPDATE QUERY

  q_get_alarm_only_hcbu.Refresh();
end;

procedure TANAALARM_F.FormClose(Sender: TObject; var Action: TCloseAction);
begin
  q_get_alarm_only_hcbu.close();
end;

procedure TANAALARM_F.FormShow(Sender: TObject);
begin
  q_get_alarm_only_hcbu.Open();
end;

procedure TANAALARM_F.rDBGrid1DblClick(Sender: TObject);
begin
  // CARICA TUTTI I PARAMETRI D'ALLARME NEI CAMPI EDIT

end;

end.
